<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL"
                   xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
                   xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
                   xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
                   xmlns:activiti="http://activiti.org/bpmn"
                   id="sample-diagram"
                   targetNamespace="http://bpmn.io/schema/bpmn"
                   xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">
    <bpmn2:process id="biding" name="标书审核" isExecutable="true">
        <bpmn2:startEvent id="StartBiding" name="开始">
            <bpmn2:outgoing>bidingFlow0</bpmn2:outgoing>
        </bpmn2:startEvent>
        <bpmn2:userTask id="biding_1" name="标书申请人" activiti:assignee="${assignee1}">
            <bpmn2:incoming>bidingFlow0</bpmn2:incoming>
            <bpmn2:outgoing>bidingFlow1</bpmn2:outgoing>
        </bpmn2:userTask>
        <bpmn2:userTask id="biding_2" name="项目负责人" activiti:assignee="${assignee2}">
            <bpmn2:incoming>bidingFlow1</bpmn2:incoming>
            <bpmn2:outgoing>bidingFlow2</bpmn2:outgoing>
            <bpmn2:outgoing>bidingFlow4</bpmn2:outgoing>
        </bpmn2:userTask>
        <bpmn2:userTask id="biding_3" name="采购执行人" activiti:assignee="${assignee3}">
            <bpmn2:incoming>bidingFlow2</bpmn2:incoming>
            <bpmn2:outgoing>bidingFlow3</bpmn2:outgoing>
            <bpmn2:outgoing>bidingFlow5</bpmn2:outgoing>
        </bpmn2:userTask>
        <bpmn2:endEvent id="EndBiding_success" name="同意采购执行">
            <bpmn2:incoming>bidingFlow3</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:sequenceFlow id="bidingFlow0" sourceRef="StartBiding" targetRef="biding_1"/>
        <bpmn2:sequenceFlow id="bidingFlow1" sourceRef="biding_1" targetRef="biding_2"/>
        <bpmn2:sequenceFlow id="bidingFlow2" name="项目负责人同意" sourceRef="biding_2" targetRef="biding_3">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression">${result==1}</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="bidingFlow3" name="采购执行人同意" sourceRef="biding_3" targetRef="EndBiding_success">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression">${result==1}</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:endEvent id="EndBiding_fail" name="拒绝采购执行">
            <bpmn2:incoming>bidingFlow4</bpmn2:incoming>
            <bpmn2:incoming>bidingFlow5</bpmn2:incoming>
        </bpmn2:endEvent>
        <bpmn2:sequenceFlow id="bidingFlow4" name="项目负责人拒绝" sourceRef="biding_2" targetRef="EndBiding_fail">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression">${result==0}</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
        <bpmn2:sequenceFlow id="bidingFlow5" name="项目负责人拒绝" sourceRef="biding_3" targetRef="EndBiding_fail">
            <bpmn2:conditionExpression xsi:type="bpmn2:tFormalExpression">${result==0}</bpmn2:conditionExpression>
        </bpmn2:sequenceFlow>
    </bpmn2:process>
    <bpmndi:BPMNDiagram id="BPMNDiagram_1">
        <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="biding">
            <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartBiding">
                <dc:Bounds x="188" y="103" width="36" height="36"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="195" y="146" width="22" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="UserTask_0l3l3jl_di" bpmnElement="biding_1">
                <dc:Bounds x="385" y="81" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="UserTask_06lbm0r_di" bpmnElement="biding_2">
                <dc:Bounds x="674" y="81" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="UserTask_0zygbew_di" bpmnElement="biding_3">
                <dc:Bounds x="957" y="81" width="100" height="80"/>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNShape id="EndEvent_1xt6c1q_di" bpmnElement="EndBiding_success">
                <dc:Bounds x="1231" y="103" width="36" height="36"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="1216" y="146" width="66" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="SequenceFlow_1sheraf_di" bpmnElement="bidingFlow0">
                <di:waypoint x="224" y="121"/>
                <di:waypoint x="385" y="121"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="SequenceFlow_0rudtdq_di" bpmnElement="bidingFlow1">
                <di:waypoint x="485" y="121"/>
                <di:waypoint x="674" y="121"/>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="SequenceFlow_0fdkp92_di" bpmnElement="bidingFlow2">
                <di:waypoint x="774" y="121"/>
                <di:waypoint x="957" y="121"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="827" y="103" width="77" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="SequenceFlow_0id07t7_di" bpmnElement="bidingFlow3">
                <di:waypoint x="1057" y="121"/>
                <di:waypoint x="1231" y="121"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="1106" y="103" width="77" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNShape id="EndEvent_13kvteh_di" bpmnElement="EndBiding_fail">
                <dc:Bounds x="851" y="348" width="36" height="36"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="837" y="391" width="66" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNShape>
            <bpmndi:BPMNEdge id="SequenceFlow_1ox52it_di" bpmnElement="bidingFlow4">
                <di:waypoint x="724" y="161"/>
                <di:waypoint x="724" y="366"/>
                <di:waypoint x="851" y="366"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="701" y="261" width="77" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNEdge>
            <bpmndi:BPMNEdge id="SequenceFlow_0kgarsp_di" bpmnElement="bidingFlow5">
                <di:waypoint x="1007" y="161"/>
                <di:waypoint x="1007" y="366"/>
                <di:waypoint x="887" y="366"/>
                <bpmndi:BPMNLabel>
                    <dc:Bounds x="984" y="261" width="77" height="14"/>
                </bpmndi:BPMNLabel>
            </bpmndi:BPMNEdge>
        </bpmndi:BPMNPlane>
    </bpmndi:BPMNDiagram>
</bpmn2:definitions>
